plugins {
    id 'java-library'
}

group = 'org.convert'
version = '1.0.0'

java {
    sourceCompatibility = JavaVersion.VERSION_18
    targetCompatibility = JavaVersion.VERSION_18
}
tasks.jar {
    duplicatesStrategy = DuplicatesStrategy.EXCLUDE
}
tasks.withType(JavaExec) {
    jvmArgs += ['-Dfile.encoding=UTF-8']
}
sourceSets {
    main {
        resources {
            srcDir 'src/main/resources'
            include '**/*.exe'  // exe 파일 포함 확실히 하기
        }
    }
}
compileJava.options.encoding = 'UTF-8'
tasks.withType(JavaCompile) {
    options.encoding = 'UTF-8'
}
tasks.processResources {
    duplicatesStrategy = DuplicatesStrategy.EXCLUDE
}
repositories {
    mavenCentral()
}

dependencies {
    // 필요한 외부 라이브러리 추가 가능
}

jar {
    from {
        configurations.runtimeClasspath.collect { it.isDirectory() ? it : zipTree(it) }
    }
    // Python 스크립트 포함
    from('src/main/resources') {
        into('')
    }
}
